<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="Content-Language" content="en-us">
  <meta http-equiv="imagetoolbar" content="false">
  <title>DocumentReference | Soarian DSTU 2 API</title>
  
  <link href="../../../../css/reset.css" rel="stylesheet" type="text/css">
  <link href="../../../../css/documentation.css" media="screen" rel="stylesheet" type="text/css">
  <link href="../../../../css/pygments.css" media="screen" rel="stylesheet" type="text/css">
  <script src="../../../../js/jquery.js" type="text/javascript"></script>
  <script src="../../../../js/documentation.js" type="text/javascript"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-62403415-1', 'auto');
    ga('send', 'pageview');
  </script>
</head>


<body class="dstu2_api">
  <div id="header">

  <div id="top-header">
    <div class="header-wrapper">

      <a class="logo" href="https://code.cerner.com">Cerner Corporation</a>
      

    </div>
<!-- /.header-wrapper -->
  </div>
<!-- /#top-header -->

  <div id="bottom-header">
    <div class="header-wrapper">

      <ul class="pages">
        <li><a href="../../../../millennium/dstu2/" class="nav-dstu2-api">Millennium</a></li>
        <li><a href="../../" class="nav-dstu2-api">Soarian</a></li>
        <li><a href="../../../../authorization" class="nav-dstu2-api">Authorization</a></li>
        <li><a href="../../../../smart" class="nav-dstu2-api">SMART</a></li>
      </ul>

    </div>
<!-- /.header-wrapper -->
  </div>
<!-- /#bottom-header -->

</div>
<!-- /#header -->


  <div class="sub-nav">
    
      <h2>Soarian</h2>
    
    <ul>
      <li><a href="../../" class="active">DSTU 2 Final (1.0.2)</a></li>
      
      <li><a href="https://groups.google.com/d/forum/cerner-fhir-developers">Support</a></li>
    </ul>
  </div>

  <div id="wrapper">
    <div class="content">
      <h1 id="documentreference">DocumentReference</h1>

<ul id="markdown-toc">
  <li><a href="#overview" id="markdown-toc-overview">Overview</a></li>
  <li><a href="#terminology-bindings" id="markdown-toc-terminology-bindings">Terminology Bindings</a></li>
  <li><a href="#custom-extensions" id="markdown-toc-custom-extensions">Custom Extensions</a></li>
  <li>
<a href="#search" id="markdown-toc-search">Search</a>    <ul>
      <li><a href="#parameters" id="markdown-toc-parameters">Parameters</a></li>
      <li><a href="#headers" id="markdown-toc-headers">Headers</a></li>
      <li><a href="#example" id="markdown-toc-example">Example</a></li>
      <li><a href="#errors-and-informational-messages" id="markdown-toc-errors-and-informational-messages">Errors and Informational messages</a></li>
    </ul>
  </li>
</ul>

<h2 id="overview">Overview</h2>

<p>For the DocumentReference resource query, the API returns one or more links to Summary of Episode Note (SOEN) consolidated clinical document architecture (C-CDA) documents stored in the Soarian Clinicals C-CDA archive for the subject patient. If more than one C-CDA link is returned, they are sequenced in reverse chronological order by C-CDA creation date for user selection and display. Note that each instance of a C-CDA is a unique document. Therefore, if multiple C-CDAs are created for a patient during an encounter where the creation date qualifies them for the query response, all qualified records are returned. The C-CDA document archive may contain documents created by Soarian or by external systems; all qualifying (SOEN type by create date) records are returned regardless of their source.</p>

<h2 id="terminology-bindings">Terminology Bindings</h2>

<table style="display: table; white-space: normal">
  <tbody>
    
      
      
    <tr>
      <td>
      
          <a target="_blank" href="http://hl7.org/fhir/DSTU2/documentreference-definitions.html#DocumentReference.type">DocumentReference.type</a>
      
      </td>
    </tr>
    <tr>
      <td>
        <ul style="list-style-type: none">
          
            <li><i>Description</i></li>
            <ul style="list-style-type: none"><li>Precise type of clinical document.</li></ul>
          
          

          
            
              
                  <li>
                    
                      <p>Details: <a target="_blank" href="http://hl7.org/fhir/dstu2/loinc.html">LOINC</a><br>
                      
                        System: http://loinc.org <br>
                      
                      </p>
                    
                  </li>
                  <ul style="list-style-type: none">
                  
                  
                      <li><i>Supported Values</i></li>
                      <ul style="list-style-type: none">
                      
                        <li>34133 - Summary of episode note</li>
                      
                      </ul>
                  
                  </ul>
              
            
          
        </ul>
      </td>
    </tr>
    
  </tbody>
</table>

<h2 id="custom-extensions">Custom Extensions</h2>

<p>The <a href="../../#bundle-message-extension">bundle extension</a> can be returned, see possible codes in the <a href="#errors-and-informational-messages">errors section</a> below.</p>

<h2 id="search">Search</h2>

<pre><code>GET /DocumentReference?:parameters
</code></pre>

<p><em>Implementation Notes</em></p>

<ul>
  <li>The API returns the most current DocumentReference list.</li>
  <li>The Narrative includes additional information pertaining to the document reference, and should be shown to the user to ensure completeness of clinical content and context.</li>
  <li>The API returns one or more links to Summary of Episode Note (SOEN) consolidated clinical document architecture (C-CDA) documents.</li>
  <li>If more than one C-CDA link is returned, they are sequenced in reverse chronological order by C-CDA creation date.</li>
  <li>For performance considerations, only the binary document (content.attachment.data) representing the most recent encounter is included in DocumentReference. To retrieve the related binary documents, use the links provided in content.attachment.url to request the corresponding DocumentReference resources.</li>
</ul>

<h3 id="parameters">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Required?</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>patientId</td>
      <td>Y</td>
      <td><a href="http://hl7.org/fhir/DSTU2/search.html#reference"><code>reference</code></a></td>
      <td>The patient identifier provided in a pre-requisite authorization step.</td>
    </tr>
    <tr>
      <td>date</td>
      <td>N</td>
      <td>
<a href="http://hl7.org/fhir/DSTU2/search.html#date"><code>date</code></a> as adjusted per implementation notes</td>
      <td>Null or specific date or a date range.</td>
    </tr>
    <tr>
      <td>attachment</td>
      <td>N</td>
      <td>URL encoded String</td>
      <td>Attachment is the value that is returned in the element “content.attachment.url” as part of the response to the initial “DocumentReference” request.</td>
    </tr>
  </tbody>
</table>

<p>Notes:</p>

<ul>
  <li>See details regarding special <a href="../../#special-information-regarding-date-parameters">date</a> requirements.</li>
  <li>If the date parameter is null in the query, the API will return all qualifying records.</li>
  <li>If a single date parameter is used in the query, the response will include all qualifying records dated that day.</li>
  <li>If a valid date range is used in the query, the API will return all qualifying records within the dates specified.</li>
  <li>If an invalid date range is used in the query, the API will error with code <a href="../../common-errors">500</a>. Please refer to <a href="../../#special-information-regarding-date-parameters">Special information regarding date parameters</a>.</li>
  <li>Developers are strongly encouraged to specify date ranges to prevent an inordinately large number of records from being returned.</li>
</ul>

<h3 id="headers">Headers</h3>

<pre class="headers"><code><a href="../../#media-types">Accept</a>: application/json+fhir
<a href="../../#authorization">Authorization</a>: &lt;OAuth2 Bearer Token&gt;</code></pre>

<h3 id="example">Example</h3>

<h4 id="request-without-attachment">Request without attachment</h4>

<pre><code>GET https://fhir-myrecord.sandboxcerner.com/dstu2/123abc/DocumentReference?patientId=FCC941D7-60B9-491D-BEED-27629E47CD4E
</code></pre>

<h4 id="response-without-attachment">Response without attachment</h4>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="body-response"><code class="language-javascript">{
  "resourceType": "Bundle",
  "id": "3def23df-44bf-4006-ab1c-72d0c176b1b0",
  "meta": {
    "lastUpdated": "2017-06-05T14:18:31.429-04:00"
  },
  "extension": [
    {
      "url": "http://cerner.hs.fhir.com/StructureDefinition/bundle-result-messages",
      "valueExtension": {
        "url": "http://cerner.hs.fhir.com/StructureDefinition/bundle-result-messages",
        "extension": [
          {
            "url": "Severity",
            "valueString": "info"
          },
          {
            "url": "Code",
            "valueString": "papi022"
          },
          {
            "url": "Message",
            "valueString": "Information provided is for documents created from 2016-03-01 through 2016-03-29 inclusive."
          }
        ]
      }
    },
    {
      "url": "http://cerner.hs.fhir.com/StructureDefinition/bundle-result-messages",
      "valueExtension": {
        "url": "http://cerner.hs.fhir.com/StructureDefinition/bundle-result-messages",
        "extension": [
          {
            "url": "Severity",
            "valueString": "info"
          },
          {
            "url": "Code",
            "valueString": "fsp001"
          },
          {
            "url": "Message",
            "valueString": "Date parameter values passed with request were: date=&gt;=2016-03-01T14:15:00&amp;date=&lt;2016-03-30T14:15:00"
          }
        ]
      }
    }
  ],
  "type": "searchset",
  "link": [
    {
      "relation": "self",
      "url": "base-url/bf615549-44cc-4899-bfa9-2cfd86bf358c/DocumentReference?date=%3E%3D2016-03-01T14%3A15%3A00&amp;date=%3C2016-03-30T14%3A15%3A00&amp;_format=json&amp;patientId=FCC941D7-60B9-491D-BEED-27629E47CD4E"
    }
  ],
  "entry": [
    {
      "resource": {
        "resourceType": "DocumentReference",
        "masterIdentifier": {
          "system": "urn:ietf:rfc:3986",
          "value": "urn:oid:2.16.840.1.113883.10.20.22.1.2"
        },
        "subject": {
          "reference": "Patient/FCC941D7-60B9-491D-BEED-27629E47CD4E"
        },
        "type": {
          "coding": [
            {
              "system": "http://loinc.org",
              "code": "34133-9",
              "display": "Summary of episode note"
            }
          ]
        },
        "author": [
          {
            "display": " Admin Admin"
          }
        ],
        "created": "2016-03-18T00:00:00-04:00",
        "indexed": "2016-03-18T00:00:00-04:00",
        "status": "current",
        "docStatus": {
          "coding": [
            {
              "system": "http://hl7.org/fhir/composition-status",
              "code": "preliminary",
              "display": "PRELIMINARY"
            }
          ],
          "text": "PRELIMINARY"
        },
        "description": "Summarization of Episode Note",
        "securityLabel": [
          {
            "coding": [
              {
                "system": "http://hl7.org/fhir/v3/Confidentiality",
                "code": "N",
                "display": "normal"
              }
            ],
            "text": "normal"
          }
        ],
        "content": [
          {
            "attachment": {
              "contentType": "application/hl7-v3+xml",
              "language": "en-US",
              "data": "Rm91ciBzY29yZSBhbmQgc2V2ZW4geWVhcnMgYWdvIG91ciBmYXRoZXJzIGJyb3VnaHQgZm9ydGggb24gdGhpcyBjb250aW5lbnQsIGEgbmV3IG5hdGlvbiwgY29uY2VpdmVkIGluIExpYmVydHksIGFuZCBkZWRpY2F0ZWQgdG8gdGhlIHByb3Bvc2l0aW9uIHRoYXQgYWxsIG1lbiBhcmUgY3JlYXRlZCBlcXVhbC4="
            }
          }
        ]
      }
    },
    {
      "resource": {
        "resourceType": "DocumentReference",
        "masterIdentifier": {
          "system": "urn:ietf:rfc:3986",
          "value": "urn:oid:2.16.840.1.113883.10.20.22.1.2"
        },
        "subject": {
          "reference": "Patient/FCC941D7-60B9-491D-BEED-27629E47CD4E"
        },
        "type": {
          "coding": [
            {
              "system": "http://loinc.org",
              "code": "34133-9",
              "display": "Summary of episode note"
            }
          ]
        },
        "created": "2016-03-01T00:00:00-05:00",
        "indexed": "2016-03-01T00:00:00-05:00",
        "status": "current",
        "docStatus": {
          "coding": [
            {
              "system": "http://hl7.org/fhir/composition-status",
              "code": "preliminary",
              "display": "PRELIMINARY"
            }
          ],
          "text": "PRELIMINARY"
        },
        "description": "Summarization of Episode Note",
        "content": [
          {
            "attachment": {
              "contentType": "application/hl7-v3+xml",
              "language": "en-US",
              "url": "base-url/bf615549-44cc-4899-bfa9-2cfd86bf358c/DocumentRefernce?patientId=FCC941D7-60B9-491D-BEED-27629E47CD4E&amp;attachment=docKey%3D101607B8CE55A4F20111E5B4F8D4AE526B7A48%26objNum%3D1%26created%3D20160301%26indexed%3D20160301"
            }
          }
        ]
      }
    }
  ]
}</code></pre>

<h4 id="request-with-attachment">Request with attachment</h4>

<pre><code>GET https://fhir-myrecord.sandboxcerner.com/dstu2/123abc/DocumentReference?_format=json&amp;attachment=docKey%3D101607B8CE55A4F20111E5B4F8D4AE526B7A48%26objNum%3D1%26created%3D20160301%26indexed%3D20160301&amp;patientId=FCC941D7-60B9-491D-BEED-27629E47CD4E
</code></pre>

<h4 id="response-with-attachment">Response with attachment</h4>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="body-response"><code class="language-javascript">{
  "resourceType": "Bundle",
  "id": "f74a5b3b-6b9b-4c92-9039-7e7a631e2b78",
  "meta": {
    "lastUpdated": "2017-06-05T14:20:40.691-04:00"
  },
  "type": "searchset",
  "link": [
    {
      "relation": "self",
      "url": "base-url/bf615549-44cc-4899-bfa9-2cfd86bf358c/DocumentReference?_format=json&amp;attachment=docKey%3D101607B8CE55A4F20111E5B4F8D4AE526B7A48%26objNum%3D1%26created%3D20160301%26indexed%3D20160301&amp;patientId=FCC941D7-60B9-491D-BEED-27629E47CD4E "
    }
  ],
  "entry": [
    {
      "resource": {
        "resourceType": "DocumentReference",
        "masterIdentifier": {
          "system": "urn:ietf:rfc:3986",
          "value": "urn:oid:2.16.840.1.113883.10.20.22.1.2"
        },
        "subject": {
          "reference": "Patient/FCC941D7-60B9-491D-BEED-27629E47CD4E "
        },
        "type": {
          "coding": [
            {
              "system": "http://loinc.org",
              "code": "34133-9",
              "display": "Summary of episode note"
            }
          ]
        },
        "author": [
          {
            "display": " Admin Admin"
          }
        ],
        "created": "2016-03-01T00:00:00-05:00",
        "indexed": "2016-03-01T00:00:00-05:00",
        "status": "current",
        "docStatus": {
          "coding": [
            {
              "system": "http://hl7.org/fhir/composition-status",
              "code": "preliminary",
              "display": "PRELIMINARY"
            }
          ],
          "text": "PRELIMINARY"
        },
        "description": "Summarization of Episode Note",
        "securityLabel": [
          {
            "coding": [
              {
                "system": "http://hl7.org/fhir/v3/Confidentiality",
                "code": "N",
                "display": "normal"
              }
            ],
            "text": "normal"
          }
        ],
        "content": [
          {
            "attachment": {
              "contentType": "application/hl7-v3+xml",
              "language": "en-US",
              "data": "Rm91ciBzY29yZSBhbmQgc2V2ZW4geWVhcnMgYWdvIG91ciBmYXRoZXJzIGJyb3VnaHQgZm9ydGggb24gdGhpcyBjb250aW5lbnQsIGEgbmV3IG5hdGlvbiwgY29uY2VpdmVkIGluIExpYmVydHksIGFuZCBkZWRpY2F0ZWQgdG8gdGhlIHByb3Bvc2l0aW9uIHRoYXQgYWxsIG1lbiBhcmUgY3JlYXRlZCBlcXVhbC4="
            }
          }
        ]
      }
    }
  ]
}</code></pre>

<h3 id="errors-and-informational-messages">Errors and Informational messages</h3>

<p>The common <a href="../../common-errors">errors and informational messages</a> can be returned.</p>

<p>These additional informational messages may be returned within the <a href="../../#bundle-message-extension">bundle extension</a>:</p>

<table>
  <thead>
    <tr>
      <th>Code</th>
      <th>Message</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>papi019</td>
      <td>No applicable document is available inclusive of startdate through enddate. Please refine your search.</td>
    </tr>
    <tr>
      <td>papi020</td>
      <td>Range requested is greater than 30 days, and no applicable document is available inclusive of startdate through enddate. Please refine your search.</td>
    </tr>
    <tr>
      <td>papi021</td>
      <td>Range requested is greater than 30 days, information provided is for documents created from startdate through enddate inclusive. Please refine your search.</td>
    </tr>
    <tr>
      <td>papi022</td>
      <td>Information provided is for documents created from startdate through enddate inclusive.</td>
    </tr>
    <tr>
      <td>fsp001</td>
      <td>Date parameter values passed with request were: &lt;date parameter values&gt;.</td>
    </tr>
  </tbody>
</table>


    </div>

    <div id="js-sidebar" class="sidebar-shell">
  <div class="js-toggle-list sidebar-module expandable">
    <ul>
      <li class="js-topic">
        <h3>
<a href="#" class="js-expand-btn collapsed arrow-btn" data-proofer-ignore></a><a href="../../">Overview</a>
</h3>
        <ul class="js-guides">
          <li><a href="../../soarian_authorization/">Authorization</a></li>
          <li><a href="../../conformance/">Conformance Metadata</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3>
<a href="#" class="js-expand-btn collapsed arrow-btn" data-proofer-ignore></a><a href="../../care-provision/">Care Provision</a>
</h3>
        <ul class="js-guides">
          <li><a href="../../care-provision/careplan/">CarePlan</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3>
<a href="#" class="js-expand-btn collapsed arrow-btn" data-proofer-ignore></a><a href="../../general-clinical/">General Clinical</a>
</h3>
        <ul class="js-guides">
          <li><a href="../../general-clinical/allergy-intolerance/">AllergyIntolerance</a></li>
          <li><a href="../../general-clinical/condition/">Condition</a></li>
          <li><a href="../../general-clinical/procedure/">Procedure</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3>
<a href="#" class="js-expand-btn collapsed arrow-btn" data-proofer-ignore></a><a href="../../diagnostic/">Diagnostic</a>
</h3>
        <ul class="js-guides">
          <li><a href="../../diagnostic/diagnostic-report/">DiagnosticReport</a></li>
          <li><a href="../../diagnostic/observation/">Observation</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3>
<a href="#" class="js-expand-btn collapsed arrow-btn" data-proofer-ignore></a><a href="../../devices/">Devices</a>
</h3>
        <ul class="js-guides">
          <li><a href="../../devices/device/">Device</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3>
<a href="#" class="js-expand-btn collapsed arrow-btn" data-proofer-ignore></a><a href="../">Infrastructure</a>
</h3>
        <ul class="js-guides">
          <li><a href="./">DocumentReference</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3>
<a href="#" class="js-expand-btn collapsed arrow-btn" data-proofer-ignore></a><a href="../../individuals/">Individuals</a>
</h3>
        <ul class="js-guides">
          <li><a href="../../individuals/patient/">Patient</a></li>
        </ul>
      </li>
      <li class="js-topic">
        <h3>
<a href="#" class="js-expand-btn collapsed arrow-btn" data-proofer-ignore></a><a href="../../medications/">Medications</a>
</h3>
        <ul class="js-guides">
          <li><a href="../../medications/immunization/">Immunization</a></li>
          <li><a href="../../medications/medication-statement/">MedicationStatement</a></li>
        </ul>
      </li>
    </ul>
  </div> <!-- /sidebar-module -->
  <div class="sidebar-module notice">
    <p>This website is a <a href="https://github.com/cerner/fhir.cerner.com" target="_blank">public GitHub repository</a>. Please help us by forking the project and adding to it.</p>
  </div>
</div>
<!-- /sidebar-shell -->

  </div>
<!-- #wrapper -->

  <div id="footer">

  <div id="top-footer">
    <div class="footer-wrapper">

      <ul id="footer-pages">
        <li><a href="https://groups.google.com/d/forum/cerner-fhir-developers">Contact</a></li>
        <li><a href="http://engineering.cerner.com/">Blog</a></li>
        <li><a href="https://www.cerner.com/About_Cerner/">About</a></li>
      </ul>

      <ul id="social-links">
        <li><a target="_blank" href="https://www.linkedin.com/company/cerner-corporation" class="linkedin">LinkedIn</a></li>
        <li><a target="_blank" href="https://twitter.com/cerner/" class="twitter">Twitter</a></li>
        <li><a target="_blank" href="https://www.facebook.com/Cerner/" class="facebook">Facebook</a></li>
        <li><a target="_blank" href="https://www.youtube.com/user/CernerCorporation" class="youtube">YouTube</a></li>
      </ul>

    </div>
<!-- /.footer-wrapper -->
  </div>
<!-- /#top-footer -->

  <div id="bottom-footer">
    <div class="footer-wrapper">

      <p>© <span class="js-year"></span> Cerner Corporation.  All rights reserved.</p>

      <ul id="footer-legal">
        <li><a href="http://www.cerner.com/Terms_Of_Use/">Terms of Use</a></li>
        <li><a href="http://www.cerner.com/Privacy/">Privacy Policy</a></li>
        <li><a href="http://www.cerner.com/GlobalPrivacy/">Safe Harbor Guidelines</a></li>
      </ul>

    </div>
<!-- /.footer-wrapper -->
  </div>
<!-- /#bottom-footer -->

</div>
<!-- /#footer -->

</body>
</html>
