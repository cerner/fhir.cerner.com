    patch:
      description: |
        # Patch Operations

        ## Replace Period Start
        _Description_
        
        The start time of the encounter.
        
        |Path|Operation|Value Type|
        |---|---|---|
        |[`/period/start`](http://hl7.org/fhir/datatypes-definitions.html#Period.start)|`replace`|<a target="_blank" href="https://hl7.org/fhir/R4/datatypes.html#dateTime"><code>dateTime</code></a>|
        
        _Example_
        
        ````json
        {
          "op": "replace",
          "path": "/period/start",
          "value":  "2015-09-01T00:00:00.000Z"
        }
        
        ````
        
        _Notes_
        <ul>
          <li>When no value is provided the <code>Encounter.period.start</code> will be unset.</li>
          <li>When <code>Encounter.period.start</code> value is provided, time component should be provided.</li>
        </ul>
        
        ## Replace Period End
        _Description_
        
        The end time of the encounter.
        
        |Path|Operation|Value Type|
        |---|---|---|
        |[`/period/end`](http://hl7.org/fhir/datatypes-definitions.html#Period.end)|`replace`|<a target="_blank" href="https://hl7.org/fhir/R4/datatypes.html#dateTime"><code>dateTime</code></a>|
        
        _Example_
        
        ````json
        {
          "op": "replace",
          "path": "/period/end",
          "value":  "2017-09-01T00:00:00.000Z"
        }
        
        ````
        
        _Notes_
        <ul>
          <li>When no value is provided the <code>Encounter.period.end</code> will be unset.</li>
          <li>When <code>Encounter.period.end</code> value is provided, time component should be provided.</li>
        </ul>
        
        ## Replace Type
        _Description_
        
        The specific type of encounter.
        
        |Path|Operation|Value Type|
        |---|---|---|
        |[`/type`](http://hl7.org/fhir/encounter-definitions.html#Encounter.type)|`replace`|<code>List</code> <code>of</code> <a target="_blank" href="https://hl7.org/fhir/R4/datatypes.html#CodeableConcept"><code>CodeableConcept</code></a>|
        
        _Example_
        
        ````json
        {
          "op": "replace",
          "path": "/type",
          "value":  [
            {
              "coding": [
                {
                  "system": "https://fhir.cerner.com/ec2458f2-1e24-41c8-b71b-0e701af7583d/codeSet/71",
                  "code": "309310"
                }
              ]
            }
          ]
        }
        
        ````
        
        _Notes_
        <ul>
          <li><code>Encounter.type</code> value should be a list.</li>
          <li>When a list is provided, the first value would be used to patch <code>Encounter.type</code>.</li>
        </ul>
        
        ## Replace Extension
        _Description_
        
        The array of extensions for an encounter.
        
        |Path|Operation|Value Type|
        |---|---|---|
        |[`/extension`](http://hl7.org/fhir/r4/encounter-definitions.html#Encounter.extension)|`replace`|<code>List</code> <code>of</code> <a target="_blank" href="https://hl7.org/fhir/R4/extensibility.html#Extension"><code>Extension</code></a>|
        
        _Example_
        
        ````json
        {
          "op": "replace",
          "path": "/extension",
          "value":  [
            {
              "url": "https://fhir-ehr.cerner.com/r4/StructureDefinition/payment-collection-status",
              "valueCodeableConcept": {
                "coding": [
                  {
                    "system": "https://fhir.cerner.com/ec2458f2-1e24-41c8-b71b-0e701af7583d/codeSet/4003489",
                    "code": "269411463",
                    "display": "1st Attempt - Left Message",
                    "userSelected": true
                  }
                ],
                "text": "1st Attempt - Left Message"
              }
            },
            {
              'op': 'replace',
              'path': '/extension',
              'value': [
                {
                  'url': 'https://fhir-ehr.cerner.com/r4/StructureDefinition/estimated-financial-responsibility-amount',
                  'valueMoney': {
                    'value': 10.0,
                    'currency': 'USD'
                  }
                }
              ]
            },
            {
              'op': 'replace',
              'path': '/extension',
              'value': [
              {
                'id': 'CA-0',
                'extension': [
                  {
                    'id': 'ENCNTR:3339152',
                    'valueString': 'Self-Pay Follow Up Date',
                    'url': 'custom-attribute-name'
                  },
                  {
                    'valueDateTime': '2018-05-01T12:00:00.000Z',
                    'url': 'custom-attribute-value'
                  }
                ],
                'url': 'https://fhir-ehr.cerner.com/r4/StructureDefinition/custom-attribute'
                }
              ]
            }
          ]
        }
        
        ````
        
        _Notes_
        Supported extensions that can be replaced: <ul>
          <li> <a href="https://fhir-ehr.cerner.com/r4/StructureDefinition/payment-collection-status?_format=json">Payment Collection Status</a></li>
          <li> <a href="https://fhir-ehr.cerner.com/r4/StructureDefinition/estimated-financial-responsibility-amount?_format=json">Estimated Financial Responsibility Amount</a></li>
          <li> <a href="https://fhir-ehr.cerner.com/r4/StructureDefinition/custom-attribute?_format=json">Custom Attribute</a></li>
            <ul>
              <li><code>custom-attribute</code> extensions without the id field populated will be treated as an add operation.</li>
              <li>Existing <code>custom-attribute</code> extensions that are not present will not be modified.</li>
            </ul>
        </ul>
        
        ## Add Extension
        _Description_
        
        An extension for an encounter.
        
        |Path|Operation|Value Type|
        |---|---|---|
        |[`/extension/-`](http://hl7.org/fhir/r4/encounter-definitions.html#Encounter.extension)|`add`|<code>Single</code> <a target="_blank" href="https://hl7.org/fhir/R4/extensibility.html#Extension"><code>Extension</code></a>|
        
        _Example_
        
        ````json
        [
          {
            "op": "add",
            "path": "/extension/-",
            "value":  {
              "extension": [
                {
                  "id": "ENCNTR:2822522",
                  "valueString": "ICD-9 Code",
                  "url": "custom-attribute-name"
                },
                {
                  "valueString": "test string",
                  "url": "custom-attribute-value"
                }
              ],
              "url": "https://fhir-ehr.cerner.com/r4/StructureDefinition/custom-attribute"
            }
          }
        ]
        
        ````
        
        _Notes_
        <ul>
          <li> The custom-attribute id field cannot be set.</li>
          <li> Add operation is currently only supported for <a href="https://fhir-ehr.cerner.com/r4/StructureDefinition/custom-attribute?_format=json">Custom Attribute Extension</a></li>
        </ul>
        
      consumes:
      - application/fhir+json
      produces:
      - application/json-patch+json
      parameters: 
        - name: patchBody
          in: body
          required: true
          schema: {
            "$ref": "#definitions/PatchBody"
          }
      responses: 
        200:
          description: OK
          headers:
            X-Request-Id:
              type: string
              description: Oracle troubleshooting identifier.
            opc-request-id:
              type: string
              description: Oracle troubleshooting identifier.

definitions:
      PatchBody:
        type: array
        minItems: 1
        items:
          type: object
          required:
          - op
          - path
          properties:
            op:
              type: string
              enum:
              - replace
              - add
            path:
              type: string
            value:
              type: string